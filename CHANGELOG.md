# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to
[Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]
### Added
- _Experimental feature_: add `FloggerAdapter` to use Flogger API to log events.

## [1.2.0] - 2020-10-24
### Added
- Add a new module `autolog-aspectj` to allow usage of Autolog annotations in applications using AspectJ weaving.
- Add the ability to use custom logger names instead of the default one (`"Autolog"`):
  - Add a parameter `topic` on all the annotations `@AutoLog*` to specify a custom logger name.
  - Add a parameter `callerClassAsTopic` on all the annotations `@AutoLog*` to use the caller class name as logger name
  when there is no custom logger name specified.
  - Add new methods in `MethodCallLogger`:
    - `logMethodInput(MethodInputLoggingConfiguration, String, String, List)`
    - `logMethodOutput(MethodOutputLoggingConfiguration, String, String)`
    - `logMethodOutput(MethodOutputLoggingConfiguration, String, String, Object)`
    - `logThrowable(Throwable, String, Map)`
  - Add new methods in `MethodPerformanceLogger`:
    - `start(MethodPerformanceLoggingConfiguration, Class, String)`
    - `start(MethodPerformanceLoggingConfiguration, String, String, String)`
  - Regarding `SystemOutAdapter`, the log format is modified: it is now prefixed by the logger name (for example, by
  default we get now: `[Autolog] DEBUG: A logged message.`).
- Add a parameter `messageTemplate` on the annotation `@AutoLogPerformance` to define a custom message template using
Velocity Template Language.
### Deprecated
- As a consequence of the new feature relative to the custom logger names, deprecate the following methods:
  - in `MethodCallLogger`:
    - `logMethodInput(MethodInputLoggingConfiguration, String, List)`
    - `logMethodOutput(MethodOutputLoggingConfiguration, String)`
    - `logMethodOutput(MethodOutputLoggingConfiguration, String, Object)`
  - in `MethodPerformanceLogger`:
    - `start(MethodPerformanceLoggingConfiguration, String, String)`
### Removed
- Remove `Log4jAdapter` (deprecated in 1.1.0).

## [1.1.0] - 2020-05-08
### Added
- Add `@Mask` annotation to apply a masking pattern to the annotated method arguments when they are logged thanks to the
annotations `@AutoLogMethodInput` or `@AutoLogMethodInOut`.
- Add the ability to store data generated by Autolog into the log context when it is possible. It uses:
  - `MDC` for SLF4J implementations
  - `StructuredArguments` for Logback with Logstash encoder (using the dedicated `LogbackWithLogstashAdapter`)
  - `CloseableThreadContext` for Log4j2
- _Experimental feature_: add `JdbcAdapter` to persist log events into a database using JDBC.
### Deprecated
- Deprecate `Log4jAdapter` (since Log4J library is deprecated and now classified as highly vulnerable, see
[CVE-2019-17571](https://nvd.nist.gov/vuln/detail/CVE-2019-17571">)).

## [1.0.0] - 2020-01-06
### Added
- Initial release.

[Unreleased]: https://github.com/maximevw/autolog/compare/v1.2.0...HEAD
[1.2.0]: https://github.com/maximevw/autolog/releases/tag/v1.2.0
[1.1.0]: https://github.com/maximevw/autolog/releases/tag/v1.1.0
[1.0.0]: https://github.com/maximevw/autolog/releases/tag/v1.0.0
